---
name: Spring
route: /spring
order: 7
---

import { Playground, PropsTable } from 'docz'
import { Spring, animated, config } from '../src/targets/web'
import { AnimatedMeter, RewindSpringProvider, RewindSpring } from './'
import CodeMirror from './resources/Codemirror'

# Spring

You begin by importing `Spring`.

```jsx
import { Spring } from 'react-spring'
```

<RewindSpringProvider>
  <p>
    Now, the primary task of a <code>Spring</code> is to move data <code>from</code> one state <code>to</code> another. <span className="highlight">Do not think of these values as "styles"</span> per se, although you can most certainly use them as such.
  </p>

  <div className="code-table">
    <CodeMirror value={`<Spring
  from={{ opacity: 0 }}
  to={{ opacity: 1 }}>
  {props => <div style={props}>hello</div>}
</Spring>`}/>
    <RewindSpring>
      {x => <animated.div style={{ opacity: x }}>hello</animated.div>}
    </RewindSpring>
  </div>

  <p>
    Do with them whatever you like, animate <span className="highlight">attributes</span> for instance, 
  </p>

  <div className="code-table">
    <CodeMirror value={`<Spring
  from={{ x: 100 }}
  to={{ x: 0 }}>
  {props => (
    <svg strokeDashoffset={props.x}>
      <path d="..." />
    </svg>
  )}
</Spring>`}/>
    <RewindSpring>
      {x => (
        <animated.svg
          style={{ width: 180, height: 180, opacity: x.interpolate({ range: [0,0.05,1], output: [0,1,1] }) }}
          viewBox="0 0 617 563"
          fill="transparent"
          stroke="#b7b7b7"
          strokeWidth="5"
          strokeLinecap="round"
          strokeLinejoin="round"
          strokeDasharray={2100} strokeDashoffset={x.interpolate(x => (1-x) * 2100)}>


                <path d="M444.6909,300.5307 L441.8419,297.8647 C460.5499,277.8817 470.8539,253.7667 470.8539,229.9637 C470.8539,214.6727 467.4469,200.1247 460.7259,186.7227 L464.2109,184.9747 C471.2079,198.9237 474.7549,214.0607 474.7549,229.9637 C474.7549,254.7607 464.0779,279.8227 444.6909,300.5307"></path>
                <path d="M321.8022,358.1993 C287.0802,358.1993 249.6592,347.3193 221.6982,329.0953 C197.9112,313.5923 169.5562,285.5193 169.5562,239.8163 C169.5562,160.8253 259.7422,131.2323 260.6542,130.9433 L261.8372,134.6603 C260.9532,134.9413 173.4572,163.6973 173.4572,239.8163 C173.4572,283.7713 200.8482,310.8503 223.8272,325.8273 C251.1802,343.6553 287.8072,354.2983 321.8022,354.2983 C356.9432,354.2983 385.6722,343.7423 403.5842,334.8873 L405.3142,338.3843 C387.0282,347.4233 357.6972,358.1993 321.8022,358.1993"></path>
                <path d="M496.2001,410.9331 C457.3351,409.7341 429.6941,400.0881 414.0461,382.2631 C399.5911,365.7971 401.1141,348.5851 401.1871,347.8611 C401.1771,345.8861 401.3451,343.6211 401.6721,341.3201 C401.6701,341.3201 401.8701,339.3291 402.5431,336.2221 C405.0871,324.4941 414.3191,297.2151 445.0491,297.2151 C450.4031,297.1181 455.5741,298.3211 459.8631,300.6651 C465.9131,303.9711 469.6981,308.4551 471.1111,313.9901 C472.6771,320.1321 470.9341,326.1251 469.3441,329.8531 C491.5551,324.0181 518.0661,298.1311 513.5451,253.8171 C511.0981,229.8321 494.7961,211.8881 481.5521,201.0591 C467.0641,189.2101 452.9531,183.0371 452.8121,182.9761 L451.6141,182.4571 L451.6371,181.1501 C451.7741,173.5791 451.7171,169.4351 451.6731,167.6811 C389.9551,130.5421 335.5171,117.1491 300.6541,112.4611 C271.5611,108.5501 250.9101,109.8831 242.7411,110.7361 L266.8041,134.7991 L261.8901,134.6511 C259.4621,134.5781 257.0701,134.5381 254.7021,134.5121 C207.7891,136.1631 163.8521,156.1441 131.0731,190.7721 C98.2051,225.4941 80.1041,271.2461 80.1041,319.5971 C80.1041,330.3821 81.1781,340.3481 83.3901,350.0631 L79.5861,350.9281 C77.3101,340.9261 76.2041,330.6771 76.2041,319.5971 C76.2041,270.2441 94.6841,223.5401 128.2401,188.0901 C161.7271,152.7141 206.6211,132.3011 254.6551,130.6121 C255.4871,130.6211 256.3121,130.6311 257.1321,130.6441 L234.4931,108.0041 L238.2221,107.3761 C239.1951,107.2111 262.4841,103.4161 300.9811,108.5701 C336.4251,113.3141 391.8471,126.9371 454.5971,164.8901 L455.4821,165.4251 L455.5351,166.4581 C455.5431,166.6111 455.7161,170.1681 455.5581,179.9351 C464.1061,183.8931 512.8271,208.3571 517.4261,253.4211 C520.2741,281.3251 511.2331,299.9941 503.1481,310.7401 C493.5851,323.4521 479.7221,332.3461 466.0621,334.5311 L461.7751,335.2181 L464.1121,331.5541 C464.1651,331.4701 469.4221,323.0961 467.3251,314.9311 C466.1861,310.4981 463.0471,306.8491 457.9921,304.0871 C454.2921,302.0671 449.8411,301.0511 445.0811,301.1191 L445.0761,301.1191 C417.1561,301.1191 408.6981,326.2451 406.3561,337.0491 C405.7351,339.9151 405.5461,341.7691 405.5441,341.7881 C405.2261,344.0211 405.0781,346.0421 405.0781,348.0541 C405.0531,348.4041 403.6821,364.6081 417.0481,379.7711 C431.9721,396.6991 458.6421,405.8721 496.3221,407.0341 L496.2001,410.9331 Z"></path>
  
                    <path d="M16.9145,173.6646 C19.9145,188.8976 34.3165,254.8496 71.1775,327.0976 C96.0515,375.8476 126.1965,418.2656 160.7745,453.1746 C203.3935,496.2016 252.9595,527.9166 308.1065,547.4446 C363.3125,527.8966 412.9285,496.1326 455.5855,453.0266 C490.1775,418.0686 520.3275,375.5936 545.1975,326.7826 C581.9805,254.5776 596.3135,188.8546 599.3025,173.6656 C479.8495,74.0506 327.9405,23.5436 308.1065,17.2216 C288.2705,23.5456 136.3465,74.0656 16.9145,173.6646 Z M308.1065,551.5806 L307.4585,551.3526 C251.4915,531.6456 201.2085,499.5376 158.0035,455.9196 C123.1425,420.7246 92.7605,377.9796 67.7035,328.8706 C29.6045,254.1966 15.3375,186.1556 12.8635,173.2746 L12.6485,172.1476 L13.5285,171.4116 C134.9375,69.7796 290.2125,18.7946 307.5175,13.3156 L308.1065,13.1296 L308.6945,13.3156 C325.9975,18.7926 481.2565,69.7636 602.6865,171.4126 L603.5665,172.1486 L603.3515,173.2746 C600.8905,186.1086 586.6955,253.9136 548.6715,328.5536 C523.6185,377.7246 493.2325,420.5256 458.3585,455.7706 C415.1145,499.4686 364.7825,531.6256 308.7535,551.3526 L308.1065,551.5806 Z M4.2055,169.0686 L4.5635,171.2496 C4.6855,171.9986 17.4035,247.3216 60.5905,332.0946 C86.0045,381.9786 116.8625,425.4356 152.3105,461.2586 C195.6705,505.0756 246.0725,537.5326 302.1165,557.7306 L308.0895,559.8496 L310.8585,558.8176 L314.1495,557.7116 C370.1495,537.5266 420.5465,505.0706 463.9025,461.2576 C499.3505,425.4356 530.2085,381.9786 555.6225,332.0946 C598.8085,247.3216 611.5275,171.9986 611.6515,171.2486 L612.0075,169.0686 L610.3205,167.6406 C492.7605,68.1426 343.1295,16.3116 314.3285,6.9316 L308.1085,4.9726 L301.8655,6.9376 C273.0815,16.3136 123.4395,68.1546 5.8925,167.6406 L4.2055,169.0686 Z M308.1235,563.9996 L300.8005,561.4026 C244.2005,541.0046 193.3105,508.2346 149.5375,464.0026 C113.8075,427.8926 82.7115,384.1086 57.1165,333.8656 C13.6555,248.5586 0.8385,172.6376 0.7145,171.8806 L-0.0005,167.5186 L3.3715,164.6636 C121.4755,64.7056 271.7505,12.6446 300.6765,3.2236 L308.1005,0.8856 L315.5245,3.2196 C344.4585,12.6426 494.7245,64.6946 612.8415,164.6636 L616.2125,167.5186 L615.5005,171.8796 C615.3745,172.6376 602.5575,248.5586 559.0965,333.8656 C533.5015,384.1086 502.4055,427.8926 466.6755,464.0016 C422.9085,508.2306 372.0215,540.9976 315.4315,561.3946 L312.1615,562.4936 L308.1235,563.9996 Z" mask="url(#mask-2)"></path>

                <path d="M352.5535,159.1791 C357.7055,164.3781 370.5385,174.8091 394.3515,179.9261 C395.7935,179.2801 400.6155,176.8321 406.0705,170.9761 L406.7505,170.2451 L407.7425,170.3701 C409.1305,170.5471 410.4885,170.7551 411.8045,170.9841 C394.2925,163.4921 374.4465,159.5331 352.5535,159.1791 M408.2265,174.3701 C402.7635,180.0261 397.9735,182.5711 395.9985,183.4631 C395.4445,183.7911 394.9585,183.8771 394.7645,183.8991 L394.4525,183.9351 L394.1435,183.8701 C359.7485,176.6601 347.1445,159.0671 346.6245,158.3211 L344.5005,155.2761 L348.2145,155.2561 C348.5805,155.2541 348.9505,155.2531 349.3155,155.2531 C380.2595,155.2531 407.3445,162.1901 429.8445,175.8821"></path>


        </animated.svg>
      )}
    </RewindSpring>
  </div>

  <p>
    or <span className="highlight">innerText</span>,
  </p>

  <div className="code-table">
    <CodeMirror value={`<Spring
  from={{ number: 0 }}
  to={{ number: 1 }}>
  {props => <div>{props.number}</div>}
</Spring>`}/>
    <RewindSpring>
      {x => <animated.div style={{ fontFamily: 'monospace' }}>{x.interpolate(n => n.toFixed(2))}</animated.div>}
    </RewindSpring>
  </div>

  <p>
    or generic <span className="highlight">React-component props</span>.
  </p>

  <div className="code-table">
    <CodeMirror value={`<Spring
  from={{ value: 0 }}
  to={{ value: 100 }}>
  {props => <Donut value={props.value} />}
</Spring>`}/>
    <RewindSpring>
      {x => (
        <animated.div style={{ opacity: x.interpolate({ range: [0,0.05,1], output: [0,1,1] }) }}>
          <AnimatedMeter type="circle" value={x.interpolate(x => x * 100)} />
        </animated.div>
      )}
    </RewindSpring>
  </div>
</RewindSpringProvider>

<p>
  Springs are <span className="highlight">physics based</span> and animate adaptively, you do not have to worry about durations and easings, which get complex and illogical quickly. More about that <a href="/gotchas">here</a>.
</p>

## Interpolation

<p>
  <code>Spring</code> doesn't just handle numbers, it can <span className="highlight">interpolate pretty much everything</span>.
</p> 

* colors (names, rgb, rgba, hsl, hsla, gradients)
* absolute lenghts (cm, mm, in, px, pt, pc)
* relative lengths (em, ex, ch, rem, vw, vh, vmin, vmax, %)
* angles (deg, rad, grad, turn)
* flex and grid units (fr, etc)
* all HTML attributes
* SVG paths (as long as the number of points matches, otherwise use [custom interpolation](https://codesandbox.io/embed/lwpkp46om))
* arrays
* string patterns (`transform`, `border`, `boxShadow`, etc)
* `auto` is valid
* non-animatable string values (`visibility`, `pointerEvents`, etc)
* `scrollTop`/`scrollLeft` ([native only](/native), since these aren't actual dom properties)

Let's go wild, shall we ...

<RewindSpringProvider config={{ mass: 2, tension: 20, friction: 15, precision: 0.001 }}>
  <div className="code-table">
    <CodeMirror value={`<Spring
  from={{
    width: 100,
    padding: 0,
    background:
      'linear-gradient(to right, #30e8bf, #ff8235)',
    transform:
      'translate3d(400px,0,0) scale(2) rotateX(90deg)',
    boxShadow: '0px 100px 150px -10px #2D3747',
    borderBottom: '0px solid white',
    shape: 'M20,380 L380,380 L380,380 L200,20 L20,380 Z',
    textShadow: '0px 5px 0px white'
  }}
  to={{ 
    width: 'auto', 
    padding: 20, 
    background:
      'linear-gradient(to right, #009fff, #ec2f4b)', 
    transform: 
      'translate3d(0px,0,0) scale(1) rotateX(0deg)', 
    boxShadow: '0px 10px 20px 0px rgba(0,0,0,0.4)', 
    borderBottom: '10px solid #2D3747', 
    shape: 'M20,20 L20,380 L380,380 L380,20 L20,20 Z', 
    textShadow: '0px 5px 15px rgba(255,255,255,0.5)' 
  }}>
  {({ borderBottom, shape, ...rest }) => (
    <div style={rest}>
      <svg><path d={shape} /></svg>
      <span style={{ borderBottom }}>hi</span>
    </div>
  )}
</Spring>`}/>
    <RewindSpring>
      {x => (
        <animated.div style={{ 
          display: 'inline-block',
          overflow: 'hidden',
          whiteSpace: 'nowrap',
          fontSize: '2em',
          fontWeight: 800, 
          minWidth: 50,
          width: '100%',
          height: '100%',
          display: 'flex',
          justifyContent: 'center',
          alignItems: 'center',
          flexDirection: 'column',
          //width: x.interpolate({ output: ['15%', '100%'] }),
          
          //background: x.interpolate({ output: ['linear-gradient(to top, #30e8bf, #ff8235)', 'linear-gradient(to top, #009fff, #ec2f4b)'] })
          /*padding, 
          background, 
          transform, 
          boxShadow, 
          textShadow */
          }}>
          <animated.svg viewBox="0 0 400 400" style={{ 
            transform: x.interpolate({ output: ['perspective(900px) rotateX(180deg) scale(1)', 'perspective(900px) rotateX(0deg) scale(1.5)'] }),
            display: 'inline', 
            width: 50 
          }}>
            <animated.path fill="#2D3747" d={x.interpolate({ output: ['M20,380 L380,380 L380,380 L200,20 L20,380 Z', 'M20,20 L20,380 L380,380 L380,20 L20,20 Z'] })} />
          </animated.svg>
          <animated.span style={{ borderBottom: 0 }}>hi</animated.span>
        </animated.div>
      )}
    </RewindSpring>
  </div>
</RewindSpringProvider>

Of course the only properties that the browser can animate relatively cheap are [composite propertys](https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/) (opacity, transform), so you might want to watch out for that.

<Playground style={{ height: 200 }}>
  <Spring
    from={{
      width: 100,
      padding: 0,
      background: 'linear-gradient(to right, #30e8bf, #ff8235)',
      transform: 'perspective(600px) translate3d(400px,0,0) scale(2) rotateX(90deg)',
      boxShadow: '0px 100px 150px -10px #2D3747',
      borderBottom: '0px solid white',
      shape: 'M20,380 L380,380 L380,380 L200,20 L20,380 Z',
      textShadow: '0px 5px 0px white'
    }}
    to={{ 
      width: 'auto', 
      padding: 20, 
      background: 'linear-gradient(to right, #009fff, #ec2f4b)', 
      transform: 'perspective(600px) translate3d(0px,0,0) scale(1) rotateX(0deg)', 
      boxShadow: '0px 10px 20px 0px rgba(0,0,0,0.4)', 
      borderBottom: '10px solid #2D3747', 
      shape: 'M20,20 L20,380 L380,380 L380,20 L20,20 Z', 
      textShadow: '0px 5px 15px rgba(255,255,255,0.5)' 
    }} config={{ tension: 10, friction: 50 }}>
    {({ width, padding, background, transform, boxShadow, textShadow, borderBottom, shape }) => (
      <div style={{ display: 'inline-block',
      overflow: 'hidden',
      whiteSpace: 'nowrap',
      fontSize: '4em',
      fontWeight: 800, width, padding, background, transform, boxShadow, textShadow }}>
        <svg style={{ display: 'inline', width: 50 }} viewBox="0 0 400 400">
          <path d={shape} fill="#2D3747"/>
        </svg>
        <span style={{ borderBottom }}>ðŸ˜…</span>
      </div>
    )}
  </Spring>
</Playground>

## Config

Spring are configurable, there are a couple of presets.

```jsx
import { Spring, config } from 'react-spring'

<Spring config={config.default} />
````

| Property                  | Value |
| ------------------------- | ------- |
| config.default             | { tension: 170, friction: 14 }
| config.wobbly              | { tension: 180, friction: 12 }
| config.stiff               | { tension: 210, friction: 20 }
| config.slow                | { tension: 280, friction: 60 }
| config.molasses            | { tension: 280, friction: 120 }

You can of course set configs for yourself, or finetune your spring. 

```jsx
<Spring config={{ tension: 0, friction: 2, restDisplacementThreshold: 0.1 }} />
````

| Property                  | Default | Description       |
| ------------------------- | ----------- | ------------- |
| overshootClamping         | false       | false, when true, stops the spring once it overshoots its boundaries
| restDisplacementThreshold | 0.0001      | precision
| restSpeedThreshold        | 0.0001      | precision
| velocity                  | 0           | initial velocity
| tension                   | 170         | energetic load
| friction                  | 26          | resistence
| delay                     | 0           | delay

It is also possible to set configs key by key.

```jsx
<Spring
  to={{ width: 10, color: 'red' }}
  config={key => key === 'width' ? config.slow : config.wobbly />
```

## Props

<PropsTable of={Spring} />